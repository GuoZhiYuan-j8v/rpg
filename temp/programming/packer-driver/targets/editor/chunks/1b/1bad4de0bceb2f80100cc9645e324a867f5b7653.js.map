{"version":3,"sources":["file:///C:/Users/ffgdgrrr/Desktop/rpg/assets/sceneResources/school/classroom/script/chair.ts"],"names":["_decorator","find","UITransform","v3","interaction","Anistate","Player","ccclass","property","chair","start","interactionContactFunction","getComponent","setAni","peopleIndesk","worldPos","node","convertToWorldSpaceAR","localPos","parent","convertToNodeSpaceAR","setPosition","update","deltaTime","name"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,I,OAAAA,I;AAAYC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,E,OAAAA,E;;AAChDC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;AAAUC,MAAAA,M,iBAAAA,M;;;;;;;;;OACb;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;uBAGjBS,K,WADZF,OAAO,CAAC,OAAD,C,gBAAR,MACaE,KADb;AAAA;AAAA,sCACuC;AACnCC,QAAAA,KAAK,GAAG,CAEP;;AACDC,QAAAA,0BAA0B,GAAS;AAC/B,gBAAMA,0BAAN;AACAV,UAAAA,IAAI,CAAC,oBAAD,CAAJ,CAA2BW,YAA3B;AAAA;AAAA,gCAAgDC,MAAhD,CAAuD;AAAA;AAAA,oCAASC,YAAhE,EAA6E,IAA7E;AACA,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUJ,YAAV,CAAuBV,WAAvB,EAAoCe,qBAApC,CAA0Dd,EAAE,CAAC,CAAD,EAAG,CAAC,GAAJ,CAA5D,CAAf;AACA,cAAIe,QAAQ,GAAGjB,IAAI,CAAC,oBAAD,CAAJ,CAA2BkB,MAA3B,CAAkCP,YAAlC,CAA+CV,WAA/C,EAA4DkB,oBAA5D,CAAiFL,QAAjF,CAAf;AACAd,UAAAA,IAAI,CAAC,oBAAD,CAAJ,CAA2BoB,WAA3B,CAAuCH,QAAvC;AACH;;AACDI,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAG,KAAKP,IAAL,CAAUG,MAAV,CAAiBK,IAAjB,IAAuB,QAA1B,EAAmC;AAC/B,iBAAKR,IAAL,CAAUK,WAAV,CAAsB,CAAtB,EAAwB,EAAxB,EAA2B,CAA3B;AACH;AACJ;;AAfkC,O","sourcesContent":["import { _decorator, Component, find, Node, UITransform, v3, Vec3 } from 'cc';\r\nimport { interaction } from '../../../../tools/interaction/interaction';\r\nimport { Anistate, Player } from 'db://assets/Player/script/Player';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('chair')\r\nexport class chair extends interaction {\r\n    start() {\r\n\r\n    }\r\n    interactionContactFunction(): void {\r\n        super.interactionContactFunction()\r\n        find('Canvas/2.5d/Player').getComponent(Player).setAni(Anistate.peopleIndesk,true)\r\n        let worldPos = this.node.getComponent(UITransform).convertToWorldSpaceAR(v3(0,-9.1));\r\n        let localPos = find('Canvas/2.5d/Player').parent.getComponent(UITransform).convertToNodeSpaceAR(worldPos);\r\n        find('Canvas/2.5d/Player').setPosition(localPos)\r\n    }\r\n    update(deltaTime: number) {\r\n        if(this.node.parent.name=='Player'){\r\n            this.node.setPosition(0,40,0)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}