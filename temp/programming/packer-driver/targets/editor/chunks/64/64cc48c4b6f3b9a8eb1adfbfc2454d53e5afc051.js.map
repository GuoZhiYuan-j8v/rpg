{"version":3,"sources":["file:///C:/Users/ffgdgrrr/Desktop/rpg/assets/tools/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/saveLocal.ts"],"names":["Enum","sys","_decorator","Component","ccclass","property","MapNode","localEvent","saveLocal","type","visible","setItem","getItem","start","AwakeLoad","local","JSON","parse","localStorage","key","value","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,I,OAAAA,I;AAAMC,MAAAA,G,OAAAA,G;AACNC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;AAGxBI,MAAAA,O,WADLF,OAAO,CAAC,SAAD,C,2BAAR,MACME,OADN,CACa;AAAA;AAAA;;AAAA;AAAA;;AAAA,O,sEACRD,Q;;;;;iBACU,E;;gFACVA,Q;;;;;iBACY,E;;;;AAEZE,MAAAA,U,0BAAAA,U;AAAAA,QAAAA,U,CAAAA,U;AAAAA,QAAAA,U,CAAAA,U;eAAAA,U;QAAAA,U;;AAKLP,MAAAA,IAAI,CAACO,UAAD,CAAJ;;2BAEaC,S,YADZJ,OAAO,CAAC,WAAD,C,UAIHC,QAAQ,CAAC;AAACI,QAAAA,IAAI,EAACF;AAAN,OAAD,C,UAERF,QAAQ,CAAC;AAACI,QAAAA,IAAI,EAACH,OAAN;AAAcI,QAAAA,OAAO,EAAC,YAAwB;AACpD,iBAAO,KAAKH,UAAL,KAAkBA,UAAU,CAACI,OAApC;AACH;AAFS,OAAD,C,UAIRN,QAAQ,CAAC;AAACI,QAAAA,IAAI,EAACH,OAAN;AAAcI,QAAAA,OAAO,EAAC,YAAwB;AACpD,iBAAO,KAAKH,UAAL,KAAkBA,UAAU,CAACK,OAApC;AACH;AAFS,OAAD,C,6BAVb,MACaJ,SADb,SAC+BL,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAarCU,QAAAA,KAAK,GAAG;AACJ,cAAG,KAAKC,SAAL,IAAgB,IAAnB,EAAwB;AACpB,iBAAKC,KAAL;AACH;AACJ;;AACDA,QAAAA,KAAK,GAAE;AACH,cAAG,KAAKR,UAAL,KAAkBA,UAAU,CAACK,OAAhC,EAAwC;AAEpC,mBAAOI,IAAI,CAACC,KAAL,CAAWhB,GAAG,CAACiB,YAAJ,CAAiBN,OAAjB,CAAyB,KAAKN,OAAL,CAAaa,GAAtC,CAAX,CAAP;AACH,WAHD,MAGM,IAAG,KAAKZ,UAAL,KAAkBA,UAAU,CAACI,OAAhC,EAAwC;AAC1CV,YAAAA,GAAG,CAACiB,YAAJ,CAAiBP,OAAjB,CAAyB,KAAKL,OAAL,CAAaa,GAAtC,EAA0C,KAAKb,OAAL,CAAac,KAAvD;AACH;AAEJ;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA7BoC,O,6EACpCjB,Q;;;;;iBACS,I;;;;;;;iBAEYE,UAAU,CAACI,O","sourcesContent":["import { Enum, sys } from 'cc';\r\nimport { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('MapNode')\r\nclass MapNode{\r\n    @property\r\n    key:string=''\r\n    @property\r\n    value:string=''\r\n}\r\nenum localEvent{\r\n    setItem,\r\n    getItem,\r\n    \r\n}\r\nEnum(localEvent)\r\n@ccclass('saveLocal')\r\nexport class saveLocal extends Component {\r\n    @property\r\n    AwakeLoad=true\r\n    @property({type:localEvent})\r\n    localEvent:localEvent=localEvent.setItem\r\n    @property({type:MapNode,visible:function(this:saveLocal){\r\n        return this.localEvent===localEvent.setItem\r\n    }})\r\n    MapNode:MapNode;\r\n    @property({type:MapNode,visible:function(this:saveLocal){\r\n        return this.localEvent===localEvent.getItem\r\n    }})\r\n    keyNode:MapNode;\r\n    start() {\r\n        if(this.AwakeLoad==true){\r\n            this.local()\r\n        }\r\n    }\r\n    local(){\r\n        if(this.localEvent===localEvent.getItem){\r\n           \r\n            return JSON.parse(sys.localStorage.getItem(this.MapNode.key))\r\n        }else if(this.localEvent===localEvent.setItem){\r\n            sys.localStorage.setItem(this.MapNode.key,this.MapNode.value)\r\n        }\r\n        \r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}