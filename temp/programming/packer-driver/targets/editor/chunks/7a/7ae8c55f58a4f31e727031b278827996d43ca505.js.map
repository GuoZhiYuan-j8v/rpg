{"version":3,"sources":["file:///C:/Users/ffgdgrrr/Desktop/rpg/assets/tools/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/dialogLocal.ts"],"names":["_decorator","Component","sys","action","ccclass","property","dialogLocal","start","getSysLocalAboutDialog","localStorage","getItem","JSON","parse","console","log","setItem","stringify","getSysLocalAboutDialogDOM","key","instance","_instance","setSysLocalAboutDIalog","actions","add","delete","update","deltaTime","dialogLocalData"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAA4BC,MAAAA,G,OAAAA,G;;AACxCC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;6BAGjBM,W,WADZF,OAAO,CAAC,aAAD,C,2BAAR,MACaE,WADb,SACiCL,SADjC,CAC2C;AAEvCM,QAAAA,KAAK,GAAG,CAEP;;AACDC,QAAAA,sBAAsB,GAAE;AAEpB,cAAIF,WAAJ;;AACA,cAAGJ,GAAG,CAACO,YAAJ,CAAiBC,OAAjB,CAAyB,aAAzB,CAAH,EAA2C;AACvCJ,YAAAA,WAAW,GAACK,IAAI,CAACC,KAAL,CAAWV,GAAG,CAACO,YAAJ,CAAiBC,OAAjB,CAAyB,aAAzB,CAAX,CAAZ;AACH;;AACDG,UAAAA,OAAO,CAACC,GAAR,CAAYR,WAAW,GAAC,aAAxB;;AACA,cAAGA,WAAH,EAAe;AACX,mBAAOA,WAAP;AACH,WAFD,MAEK;AACDJ,YAAAA,GAAG,CAACO,YAAJ,CAAiBM,OAAjB,CAAyB,aAAzB,EAAuCJ,IAAI,CAACK,SAAL,CAAe,EAAf,CAAvC;AACAH,YAAAA,OAAO,CAACC,GAAR,CAAYR,WAAW,GAAC,IAAxB;AACA,mBAAO,EAAP;AACH;AAEJ;;AACDW,QAAAA,yBAAyB,CAACC,GAAD,EAAY;AACjC,cAAIZ,WAAW,GAAC,KAAKE,sBAAL,EAAhB;AACAK,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BR,WAAW,CAACY,GAAD,CAArC,EAA2CA,GAA3C;;AACA,cAAGZ,WAAW,CAACY,GAAD,CAAX,IAAkB,IAArB,EAA0B;AACtBL,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,mBAAO,KAAP;AACH;;AACD,iBAAOR,WAAW,CAACY,GAAD,CAAlB;AACH;;AACkB,mBAARC,QAAQ,GAAE;AACjB,iBAAO,KAAKC,SAAZ;AACH;;AACDC,QAAAA,sBAAsB,CAACH,GAAD,EAAaI,OAAb,EAA4B;AAC9C,cAAIhB,WAAc,GAAC,KAAKE,sBAAL,EAAnB;;AACA,kBAAOc,OAAP;AACI,iBAAK;AAAA;AAAA,kCAAOC,GAAZ;AACIjB,cAAAA,WAAW,CAACY,GAAD,CAAX,GAAiB,IAAjB;AACA;;AACJ,iBAAK;AAAA;AAAA,kCAAOM,MAAZ;AACIlB,cAAAA,WAAW,CAACY,GAAD,CAAX,GAAiB,KAAjB;AACA;AANR;;AAQAhB,UAAAA,GAAG,CAACO,YAAJ,CAAiBM,OAAjB,CAAyB,aAAzB,EAAuCJ,IAAI,CAACK,SAAL,CAAeV,WAAf,CAAvC;AACH;;AACDmB,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA/CsC,O,UACdN,S,GAAsB,IAAId,OAAJ,E;;iCAgDxCqB,e,GAAgBrB,WAAW,CAACa,Q","sourcesContent":["import { _decorator, Component, JsonAsset, Node, sys, TerrainLayer } from 'cc';\r\nimport { action } from '../dialog/typeScript/dialog_galgame';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('dialogLocal')\r\nexport class dialogLocal extends Component {\r\n    private static  readonly _instance:dialogLocal=new dialogLocal()\r\n    start() {\r\n\r\n    }\r\n    getSysLocalAboutDialog(){\r\n        \r\n        let dialogLocal:{};\r\n        if(sys.localStorage.getItem('dialogLocal')){\r\n            dialogLocal=JSON.parse(sys.localStorage.getItem('dialogLocal'))\r\n        }\r\n        console.log(dialogLocal+'dialogLocal')\r\n        if(dialogLocal){\r\n            return dialogLocal\r\n        }else{ \r\n            sys.localStorage.setItem('dialogLocal',JSON.stringify({}))\r\n            console.log(dialogLocal+'dd')\r\n            return {}\r\n        }\r\n        \r\n    }\r\n    getSysLocalAboutDialogDOM(key:string){\r\n        let dialogLocal=this.getSysLocalAboutDialog()\r\n        console.log('dialogLocal',dialogLocal[key],key)\r\n        if(dialogLocal[key]!=true){\r\n            console.log('!=true')\r\n            return false\r\n        }\r\n        return dialogLocal[key]\r\n    }\r\n    static get instance(){\r\n        return this._instance\r\n    }\r\n    setSysLocalAboutDIalog(key:string, actions:action){\r\n        let dialogLocal:{}=this.getSysLocalAboutDialog()\r\n        switch(actions){\r\n            case action.add:\r\n                dialogLocal[key]=true\r\n                break\r\n            case action.delete:\r\n                dialogLocal[key]=false\r\n                break\r\n        }\r\n        sys.localStorage.setItem('dialogLocal',JSON.stringify(dialogLocal))\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\nexport var dialogLocalData=dialogLocal.instance\r\n"]}