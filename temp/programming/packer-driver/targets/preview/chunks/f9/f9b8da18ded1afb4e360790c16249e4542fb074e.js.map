{"version":3,"sources":["file:///C:/Users/ffgdgrrr/Desktop/rpg/assets/tools/%E6%B5%B7%E9%BE%9F%E6%B1%A4/script/questionNodeInteraction.ts"],"names":["SceneAsset","_decorator","instantiate","director","dialog_galgame","interaction","interactionEvent","ccclass","property","questionNodeInteraction","start","interactionContactFunction","i","eventHandler","length","emit","loadScene","scene","name","err","res","animation","play","animationClip","path","isMezi","isDialog","dialogPath","dialogIndex","getComponent","Restart","active","console","log","destroy","prefab","instantiateNode","setParent","instantiateParent","setPosition","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AACAC,MAAAA,U,OAAAA,U;AACAC,MAAAA,W,OAAAA,W;AACAC,MAAAA,Q,OAAAA,Q;;AACAC,MAAAA,c,iBAAAA,c;;AACAC,MAAAA,W,iBAAAA,W;AAAaC,MAAAA,gB,iBAAAA,gB;;;;;;;;;;;;;;;;;OAChB;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;yCAEjBQ,uB,WADZF,OAAO,CAAC,yBAAD,C,UAEHC,QAAQ,CAACR,UAAD,C,2BAFb,MACaS,uBADb;AAAA;AAAA,sCACwD;AAAA;AAAA;;AAAA;AAAA;;AAGpDC,QAAAA,KAAK,GAAG,CAEP;;AACDC,QAAAA,0BAA0B,GAAE;AACxB,eAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC,KAAKC,YAAL,CAAkBC,MAAhC,EAAuCF,CAAC,EAAxC,EAA2C;AACvC,iBAAKC,YAAL,CAAkBD,CAAlB,EAAqBG,IAArB,CAA0B,EAA1B;AACH;;AACDZ,UAAAA,QAAQ,CAACa,SAAT,CAAmB,KAAKC,KAAL,CAAWC,IAA9B,EAAmC,CAACC,GAAD,EAAKC,GAAL,KAAW;AAC1C,oBAAO,KAAKd,gBAAZ;AACI,mBAAK;AAAA;AAAA,wDAAiBe,SAAtB;AACI,qBAAKA,SAAL,CAAeC,IAAf,CAAoB,KAAKC,aAAL,CAAmBL,IAAvC;AACA;;AACJ,mBAAK;AAAA;AAAA,wDAAiBM,IAAtB;AACI,oBAAG,KAAKC,MAAL,IAAa,KAAhB,EAAsB;AAElB,sBAAG,KAAKC,QAAL,IAAe,IAAlB,EAAuB;AACnB,yBAAKC,UAAL,CAAgB,KAAKC,WAArB,EAAkCC,YAAlC;AAAA;AAAA,0DAA+DC,OAA/D;AACA,yBAAKH,UAAL,CAAgB,KAAKC,WAArB,EAAkCG,MAAlC,GAAyC,IAAzC;;AACA,wBAAG,KAAKJ,UAAL,CAAgBb,MAAhB,GAAyB,KAAKc,WAAL,GAAiB,CAA7C,EAA+C;AAC3C,2BAAKA,WAAL;AACH;;AACDI,oBAAAA,OAAO,CAACC,GAAR,CAAY,OAAK,KAAKL,WAAtB;AACH,mBAPD,MAOK;AACD,wBAAG,KAAKJ,IAAL,CAAUO,MAAV,IAAkB,KAArB,EAA2B;AACvB,2BAAKP,IAAL,CAAUO,MAAV,GAAiB,IAAjB;AACH,qBAFD,MAEM,IAAG,KAAKP,IAAL,CAAUO,MAAV,IAAkB,IAArB,EAA0B;AAC5B,2BAAKP,IAAL,CAAUO,MAAV,GAAiB,KAAjB;AACH;AAEJ;AACJ,iBAjBD,MAiBM,IAAG,KAAKN,MAAL,IAAa,IAAhB,EAAqB;AACvB,uBAAKD,IAAL,CAAUU,OAAV;AACH;;AACD;;AACJ,mBAAK;AAAA;AAAA,wDAAiBC,MAAtB;AACI,oBAAIA,MAAM,GAACjC,WAAW,CAAC,KAAKkC,eAAN,CAAtB;AACAD,gBAAAA,MAAM,CAACE,SAAP,CAAiB,KAAKC,iBAAtB;AACAH,gBAAAA,MAAM,CAACI,WAAP,CAAmB,CAAnB,EAAqB,CAArB,EAAuB,CAAvB;AAGA;AAhCR;AAkCH,WAnCD;AAqCH;;AACDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAlDmD,O;;;;;iBAEnC,I","sourcesContent":["import { Enum } from 'cc';\r\nimport { SceneAsset } from 'cc';\r\nimport { _decorator, Component, Node } from 'cc';\r\nimport { instantiate } from 'cc';\r\nimport { director } from 'cc';\r\nimport { dialog_galgame } from '../../dialog/typeScript/dialog_galgame';\r\nimport { interaction, interactionEvent } from '../../interaction/interaction';\r\nconst { ccclass, property } = _decorator;\r\n@ccclass('questionNodeInteraction')\r\nexport class questionNodeInteraction extends interaction{\r\n    @property(SceneAsset)\r\n    scene:SceneAsset=null!\r\n    start() {\r\n\r\n    }\r\n    interactionContactFunction(){\r\n        for(let i=0;i<this.eventHandler.length;i++){\r\n            this.eventHandler[i].emit([])\r\n        }\r\n        director.loadScene(this.scene.name,(err,res)=>{\r\n            switch(this.interactionEvent){\r\n                case interactionEvent.animation:\r\n                    this.animation.play(this.animationClip.name)\r\n                    break\r\n                case interactionEvent.path:\r\n                    if(this.isMezi==false){\r\n                        \r\n                        if(this.isDialog==true){\r\n                            this.dialogPath[this.dialogIndex].getComponent(dialog_galgame).Restart()\r\n                            this.dialogPath[this.dialogIndex].active=true\r\n                            if(this.dialogPath.length > this.dialogIndex+1){\r\n                                this.dialogIndex++\r\n                            }\r\n                            console.log('dp'+this.dialogIndex)\r\n                        }else{\r\n                            if(this.path.active==false){\r\n                                this.path.active=true\r\n                            }else if(this.path.active==true){\r\n                                this.path.active=false\r\n                            }\r\n                            \r\n                        }\r\n                    }else if(this.isMezi==true){\r\n                        this.path.destroy()\r\n                    }\r\n                    break\r\n                case interactionEvent.prefab:\r\n                    let prefab=instantiate(this.instantiateNode)\r\n                    prefab.setParent(this.instantiateParent)\r\n                    prefab.setPosition(0,0,0)\r\n                    \r\n                    \r\n                    break\r\n            }\r\n        })\r\n        \r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}